ID,Epic,Feature,User Story,Type,Priority,Phase,Acceptance Criteria,Dependencies,Estimate (pts),API / Integration,Notes
A1-001,Account & Contact 360,Account Linkage,"As an Admin, I can link a CRM Account to an SAP customer_no so data surfaces correctly.",Story,P0,MVP,Prevent duplicate links; show candidate matches by name/tax_id; manual confirm; audit the actor/time.,,5,GET /sap/customers/{customer_no},Soft link stored on Account.sap_customer_no
A1-002,Account & Contact 360,Account Creation,"As a Sales Rep, I can create a CRM Account with legal/tax/segment/territory fields.",Story,P0,MVP,"Require legal_name, tax_id, territory; validate tax_id format; uniqueness by (tax_id, branch_code).",,5,,
A1-003,Account & Contact 360,Account Dedup,"As an Admin, I see potential duplicates on create/import and can merge Accounts.",Story,P1,MVP,Fuzzy match on name+tax_id+phone; merge keeps activity/opportunity history; audit merge ops.,,8,,
A1-004,Account & Contact 360,Multi-site Addresses,"As a Sales Rep, I can add multiple shipping sites and mark a default.",Story,P1,MVP,CRUD addresses; default exactly one; change history; geo coordinates optional.,,3,,
A1-005,Account & Contact 360,Contacts,"As a Sales Rep, I manage Contacts with roles (Procurement/AP/Warehouse/Management).",Story,P0,MVP,CRUD Contacts; role is required; email unique per Account; consent flags captured.,,3,,
A1-006,Account & Contact 360,Account Overview Header,"As a Sales Rep, I see Account header (legal_name, sap_customer_no, segment, territory, owner).",Story,P0,MVP,"Loads <300ms from CRM; if linked to SAP, shows badge 'SAP Linked' with last sync timestamp.",,2,,
A2-001,Account & Contact 360,SAP Customer Snapshot Widget,"As a Sales Rep, I see payment terms and credit snapshot from SAP on the Account 360.",Story,P0,MVP,Displays credit_limit/exposure/available; aging buckets; 'Data source: SAP'; cache age visible; lazy load.,A1-001,5,GET /sap/customers/{customer_no},
A2-002,Account & Contact 360,SAP Orders Tab (List),"As a Sales Rep, I view SAP order history (header list) with filters.",Story,P0,MVP,"Columns: order_no, order_date, doc_type, net_value, status; filters: 30/90/365d; pagination; 'Refresh from SAP'.",A1-001,5,GET /sap/orders?customer_no=&from=&to=&page=,
A2-003,Account & Contact 360,SAP Order Drill (Lines),"As a Sales Rep, I drill into an order to view lines and schedule.",Story,P1,MVP,"Show items (material_code, desc, qty, uom, net_price display); schedule lines; loading skeleton; errors handled.",A2-002,5,GET /sap/orders/{order_no},
A2-004,Account & Contact 360,SAP Deliveries Tab,"As a Sales Rep, I view deliveries and POD availability.",Story,P1,MVP,"List: delivery_no, planned_date, actual_date, status, carrier, pod_available; filter by date range.",A1-001,5,GET /sap/deliveries?customer_no=&from=&to=,
A2-005,Account & Contact 360,SAP Invoices & AR Tab,"As an AP Contact or Sales Rep, I view invoices and AR aging summary.",Story,P0,MVP,"List: invoice_no, date, due_date, amount, status; AR aging chart 0–30/31–60/61–90/90+; download PDF if allowed.",A1-001,5,GET /sap/invoices?customer_no=&status=,
A2-006,Account & Contact 360,Cache & Refresh Controls,"As a User, I can see last-updated time for SAP widgets and trigger a hard refresh.",Task,P0,MVP,Show cache timestamp; 'Refresh from SAP' button; rate-limit user refresh; spinner and toasts.,A2-001;A2-002;A2-004;A2-005,3,,
B1-001,Activities & Visits,Activity CRUD,"As a Sales Rep, I log calls/meetings/tasks/notes with outcomes and attachments.",Story,P0,MVP,"Required: type, subject; date/time; outcome optional; file upload up to 20MB; appears in timeline.",,5,,
B1-002,Activities & Visits,Activity Templates,"As a Sales Rep, I choose quick templates for common call notes.",Story,P2,P2,At least 5 templates; editable by Admin; insert placeholders (contact_name).,,3,,
B1-003,Activities & Visits,Timeline View,"As a Sales Rep, I view a unified Account timeline of Activities (reverse chronological).",Story,P1,MVP,Infinite scroll; filters by type/user/date; links to artifacts (files).,,3,,
B2-001,Activities & Visits,Route Planning,"As a Sales Rep, I plan a multi-stop route for site visits.",Story,P2,P2,Select Accounts; optimize order; estimated drive time; export to mobile.,,5,,Optional Google Maps integration later
B2-002,Activities & Visits,Geo Check-in/Check-out,"As a Sales Rep, I check in/out at customer site with location/time.",Story,P2,P2,Capture GPS (with consent); offline queue; mark visit duration; fraud prevention (radius check).,B2-001,5,,
C1-001,Leads & Opps,Lead Intake (Manual),"As Marketing/Sales, I create a Lead with basic contact and company info.",Story,P0,MVP,Required: source; duplicate detection (email/domain/company); consent flags.,,3,,
C1-002,Leads & Opps,Lead Import (CSV),"As Marketing, I import Leads via CSV with mapping and validation.",Story,P1,MVP,Preview errors; upsert rules; limit 20k rows per import; async job with email result.,C1-001,5,,
C1-003,Leads & Opps,Lead Scoring,"As Sales, I see an auto score based on segment/intent fields.",Story,P2,P2,Score 0–100; explainable factors; adjustable weights by Admin.,,5,,
C1-004,Leads & Opps,Lead → Account/Contact Convert,"As Sales, I convert a qualified Lead into Account + Contact + (optional) Opportunity.",Story,P0,MVP,Prevent duplicate Accounts; carry over fields; audit conversion.,A1-002;A1-005,5,,
C2-001,Leads & Opps,Opportunity Stages,"As Sales, I move an Opportunity across defined stages with required fields.",Story,P0,MVP,"Stages: qualify, discover, propose, commit, won/lost; stage-exit checklist; reason on lost.",,5,,
C2-002,Leads & Opps,Opportunity Forecast,"As Sales Manager, I view weighted pipeline and commit forecast by quarter.",Story,P1,MVP,Weighted amount = amount*probability; export CSV; group by rep/territory.,C2-001,5,,
C2-003,Leads & Opps,Products Interest (Non-ERP),"As Sales, I capture product interest attributes (category/grade/gsm/size).",Story,P1,MVP,Controlled vocab + free-text; max 10 interests per opp; used for analytics mapping.,,3,,
C2-004,Leads & Opps,Next Best Action Notes,"As Sales, I add next step with due date and reminder on each Opportunity.",Story,P1,MVP,Required next_step on stage change; reminders on due; show in My Tasks.,,3,,
D1-001,Campaigns & CSR,Audience Builder,"As Marketing, I build audiences by segment, tier, territory, engagement.",Story,P1,MVP,AND/OR conditions; preview count; save segments; exclude suppression lists.,,5,,
D1-002,Campaigns & CSR,Campaign Execution (Email),"As Marketing, I execute an email campaign to a saved audience.",Story,P2,P2,Connect SMTP/ESP; UTM params; track opens/clicks; basic throttle.,D1-001,8,,
D1-003,Campaigns & CSR,Campaign Attribution,"As Marketing, I see influenced Leads/Opps from a campaign.",Story,P2,P2,Rule: last-touch within 7 days; show assisted conversions; export CSV.,C1-001;C2-001;D1-002,5,,
D2-001,Campaigns & CSR,CSR Project Publishing,"As CSR Officer, I publish CSR projects with photos and KPIs.",Story,P2,P2,CRUD; gallery; KPI fields; public share toggle (internal only in MVP if needed).,,5,,
E1-001,Analytics,Pipeline Dashboard,"As Management, I see pipeline by stage/rep/territory with trends.",Story,P1,MVP,Time series; drill-down; export; filters by quarter/rep.,C2-001;C2-002,5,,
E1-002,Analytics,Activity Heatmap,"As Management, I view activities per rep/week with outcomes.",Story,P2,P2,Heatmap; filter by type; top accounts; CSV export.,B1-001,3,,
E2-001,Analytics,Revenue Trend (SAP-read),"As Management, I see revenue trend by account/segment tagged as SAP source.",Story,P1,MVP,Clear 'Source: SAP' badge; last refresh timestamp; pagination for large sets.,A2-002;A2-005;G1-001,5,,
E2-002,Analytics,AR Risk Flags (SAP-read),"As Sales Manager, I see accounts with overdue >30 days flagged.",Story,P1,MVP,Threshold configurable; link to Account AR tab; export list.,A2-005;G1-001,3,,
F1-001,Admin & Security,RBAC/ABAC,"As Admin, I assign roles and territory-based access to objects.",Story,P0,MVP,Least privilege defaults; object- and field-level; audit role changes.,,8,,
F1-002,Admin & Security,Field Permissions & PII,"As Admin, I restrict sensitive fields by role and mask in UI.",Story,P0,MVP,PII encrypted at rest; mask phone/email; show on-demand with reason; audit access.,,8,,
F1-003,Admin & Security,MFA & SSO,"As a User, I login via SSO/OIDC with optional MFA.",Story,P1,MVP,OIDC integration; remember device; fallback local admin account.,,5,,Coordinate with IT
G1-001,Integration,Integration Service Skeleton,"As an Engineer, I deploy an integration service that proxies SAP APIs with caching.",Task,P0,MVP,HTTP gateway; OAuth2 service account; rate limiting; circuit breaker; observability hooks.,,8,,
G1-002,Integration,Customer Snapshot Endpoint,"As a Frontend, I call a stable endpoint for SAP customer snapshot.",Task,P0,MVP,Path: /sap/customers/{customer_no}; response as spec; cache TTL 15m; ETag for conditional GET.,G1-001,5,,
G1-003,Integration,Orders Endpoint + Drill,"As a Frontend, I consume paginated order history and order detail.",Task,P0,MVP,List + detail endpoints; date filters; cache TTL 30–60m; error mapping.,G1-001,8,,
G1-004,Integration,Deliveries Endpoint,"As a Frontend, I fetch deliveries with POD availability.",Task,P1,MVP,Date filters; pod_available flag; cache TTL 30–60m.,G1-001,5,,
G1-005,Integration,Invoices & AR Endpoint,"As a Frontend, I fetch invoices and aging summary.",Task,P0,MVP,Status filter (open/all); aging buckets; TTL 30–60m; invoice PDF link passthrough if allowed.,G1-001,8,,
G1-006,Integration,IDoc/Event Ingestion (Optional),"As a System, I process SAP IDocs/events to refresh caches near-real-time.",Spike,P2,P2,Evaluate IDoc types DEBMAS/ORDERS/INVOIC/DELVRY; design consumer; DLQ; retries.,,5,,
G1-007,Integration,Data Model & Mapping,"As an Engineer, I map SAP payloads to CRM read models.",Task,P0,MVP,Define schemas; store minimal normalized caches; migration scripts.,G1-001,5,,
G1-008,Integration,Security & Secrets,"As an Engineer, I manage SAP credentials securely.",Task,P0,MVP,Vault/KMS; rotate secrets; least-privilege SAP role; audit access.,G1-001,3,,
H1-001,NFR & Obs,Tracing & Metrics,"As an SRE, I trace requests across CRM ↔ Integration ↔ SAP and monitor SLIs.",Task,P0,MVP,Trace IDs; latency/error rate dashboards; alerts on stale caches; error budgets.,G1-001,5,,
H1-002,NFR & Obs,Error States & Skeletons,"As a User, I see graceful skeletons, retry hints, and last-good data when SAP is slow.",Story,P0,MVP,Show skeleton 300–1500ms; fallback cache with banner 'Last updated at ...'; retry/backoff UX.,A2-001;A2-002;A2-004;A2-005,3,,
H1-003,NFR & Obs,Role-Based UI Tests,"As QA, I validate field masking and permissions per role.",Task,P1,MVP,Cypress/Playwright suites; seed data; artifacts in CI; pass rate ≥95%.,F1-001;F1-002,5,,
H1-004,NFR & Obs,Performance Budgets,"As a PM, I enforce page-level budgets (p95) for key screens.",Task,P1,MVP,Account 360 widgets from cache <1.8s; Activity create <500ms; report async if >5s.,,3,,
P1-001,Customer Portal,Login & Account View,"As a Customer (AP/Buyer), I log in to view my account summary and invoices (read-only from SAP).",Story,P2,P2,SSO optional; invoices list; download PDFs; 'Source: SAP' badge.,G1-005;F1-003,8,,
P1-002,Customer Portal,Order & Delivery Tracking,"As a Customer, I view order/delivery history and POD if available.",Story,P2,P2,Filters by date; delivery status; POD link.,G1-003;G1-004;P1-001,5,,
